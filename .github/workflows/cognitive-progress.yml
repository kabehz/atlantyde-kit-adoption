
name: ðŸ§  Registro de Avances Cognitivos ATLANTYDE

on:
  workflow_dispatch:
  push:
    paths:
      - 'setup-demo.sh'
      - '**/onboarding/**'
      - '**/progress/**'
  issues:
    types: [opened, edited, labeled]

jobs:
  gamified-progress-tracker:
    runs-on: ubuntu-latest
    name: ðŸ§© Sumar progreso + crear insignia simbÃ³lica
    steps:
      - name: ðŸ§  Checkout del repositorio
        uses: actions/checkout@v3

      - name: ðŸ“ˆ Analizar archivos de progreso y onboarding
        id: progress
        run: |
          echo "score=0" >> $GITHUB_ENV
          echo "ðŸ” Escaneando contribuciones..."
          if grep -q "TOTAL SABIDURÃA GANADA:" setup-demo.sh; then
            echo "âœ… Puntos cognitivos detectados"
            echo "score=40" >> $GITHUB_ENV
          fi

      - name: ðŸ… Crear badge simbÃ³lico en consola
        run: |
          echo "::notice:: Â¡Felicidades! Has desbloqueado el badge digital: NODO-JOVEN-ETHICAL-2024"
          echo "::notice:: Comparte tu avance en Discussions o Issues con este cÃ³digo para validaciÃ³n humana ðŸ§¬"

      - name: âœï¸ Crear comentario sugerido
        if: ${{ github.event_name == 'workflow_dispatch' }}
        run: |
          echo "ðŸŽ® Nuevo progreso detectado por el usuario: ${{ github.actor }}" >> summary.log
          echo "ðŸ§  Puntos ganados: ${{ env.score }}" >> summary.log
          echo "ðŸ… Badge: NODO-JOVEN-ETHICAL-2024" >> summary.log

      - name: ðŸ—‚ Guardar archivo de progreso
        run: |
          mkdir -p .github/progress/
          cp summary.log .github/progress/${{ github.actor }}-progress.txt
